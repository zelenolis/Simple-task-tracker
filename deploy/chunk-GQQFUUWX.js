import{a as W,b as X}from"./chunk-HVGR5URK.js";import{a as H,c as J,d as _,e as p,f as Q}from"./chunk-VS6VRPCV.js";import{j as G}from"./chunk-L5RHBUOY.js";import{p as U}from"./chunk-T57MLRIA.js";import{e as $,f as K,g as V,h as q,n as y}from"./chunk-UQTN7MN5.js";import{Bb as B,Cb as s,Db as g,Gb as v,Hb as S,Ia as c,Ib as z,Ja as M,Jb as R,Kb as A,Pa as D,ca as h,cb as k,ea as T,eb as f,fa as b,ia as E,ib as F,ka as I,kb as r,lb as a,mb as P,nb as j,ob as L,rb as d,tb as O,va as m,xb as N}from"./chunk-4KIBKXAV.js";var Y=(()=>{let t=class t{transform(i,o){if(i===null)return[];let n=[...i];switch(o){case p.deadline:return n.sort((l,u)=>{let nt=new Date(l.deadline),ot=new Date(u.deadline);return Number(nt)-Number(ot)});case p.status:return n.sort((l,u)=>l.status<u.status?1:u.status<l.status?-1:0);case p.executor:return n.sort((l,u)=>l.executor.toLocaleLowerCase()>u.executor.toLocaleLowerCase()?1:u.executor.toLocaleLowerCase()>l.executor.toLocaleLowerCase()?-1:0);case p.default:return n}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=b({name:"sorting",type:t,pure:!0,standalone:!0});let e=t;return e})();var w=(()=>{let t=class t{constructor(){this.type=p.default}setsortType(i){this.type=i}getsortType(){return this.type}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Z=(()=>{let t=class t{constructor(){this.sortingService=m(w),this.router=m(y),this.matSnackBar=m(U),this.menu="Menu"}menuOpen(){this.menu==="Menu"?this.menu="Close":this.menu="Menu"}onStatus(){this.sortingService.setsortType(p.status),this.menu="Menu"}onDeadline(){this.sortingService.setsortType(p.deadline),this.menu="Menu"}onExecutor(){this.sortingService.setsortType(p.executor),this.menu="Menu"}onDefault(){this.sortingService.setsortType(p.default),this.menu="Menu"}addNewTask(){this.menu="Menu",this.router.navigate(["new"])}onLogout(){this.menu="Menu",localStorage.clear(),this.matSnackBar.open("logged out","OK",{duration:3e3}),this.router.navigate(["login"])}ngOnDestroy(){this.menu="Menu"}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-control-panel"]],standalone:!0,features:[v],decls:19,vars:4,consts:[[1,"wrapper_control"],[1,"control_open",3,"click"],[1,"control_sort"],[1,"control_button",3,"click"],[1,"control_add",3,"click"],[1,"control_logout",3,"click"]],template:function(o,n){o&1&&(r(0,"div",0)(1,"button",1),d("click",function(){return n.menuOpen()}),s(2),a(),r(3,"div")(4,"div",2)(5,"h4"),s(6,"Sort tasks by:"),a(),r(7,"button",3),d("click",function(){return n.onDefault()}),s(8,"default"),a(),r(9,"button",3),d("click",function(){return n.onStatus()}),s(10,"status"),a(),r(11,"button",3),d("click",function(){return n.onDeadline()}),s(12,"deadline"),a(),r(13,"button",3),d("click",function(){return n.onExecutor()}),s(14,"executor"),a()(),r(15,"div",4),d("click",function(){return n.addNewTask()}),s(16,"new task"),a(),r(17,"div",5),d("click",function(){return n.onLogout()}),s(18,"Logout"),a()()()),o&2&&(c(2),g(n.menu),c(),F("control ",n.menu,""))},styles:[".wrapper_control[_ngcontent-%COMP%]{width:100vw;display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:95%;margin:auto;max-width:800px}@media screen and (max-width: 600px){.wrapper_control[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end}}.control_open[_ngcontent-%COMP%]{position:absolute;top:2.3vh;right:2vw;background:none;border:none;color:var(--main);font-family:head}@media screen and (min-width: 601px){.control_open[_ngcontent-%COMP%]{display:none}}@media screen and (max-width: 600px){.control_open[_ngcontent-%COMP%]{display:block}}.control[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}@media screen and (max-width: 600px){.control[_ngcontent-%COMP%]{position:absolute;flex-direction:column;width:50%;top:8vh;right:-100%;transition:.3s;background-color:var(--background2);z-index:5}}.Close[_ngcontent-%COMP%]{right:0;transition:.3s;align-items:flex-end;padding-right:5vw}.control_sort[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.control_sort[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--main);font-family:head}@media screen and (max-width: 600px){.control_sort[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-top:1vh;color:var(--rose)}}.control_sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;color:var(--main)}.control_sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:600}@media screen and (max-width: 600px){.control_sort[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1vh 0;font-size:.9rem}}@media screen and (max-width: 600px){.control_sort[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-end}.control_sort[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}}.control_add[_ngcontent-%COMP%]{padding:0 10px;font-weight:800;color:var(--main)}.control_add[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--orange)}@media screen and (max-width: 600px){.control_add[_ngcontent-%COMP%]{padding:2vh 0}}.control_logout[_ngcontent-%COMP%]{padding:0 10px;font-weight:200}.control_logout[_ngcontent-%COMP%]:hover{cursor:pointer;font-weight:400;color:var(--rose)}@media screen and (max-width: 600px){.control_logout[_ngcontent-%COMP%]{padding:2vh 0}}"],changeDetection:0});let e=t;return e})();var tt=(()=>{let t=class t{constructor(i,o){this.element=i,this.renderer=o,this.priority=_.low}setColor(){this.priority===_.high&&this.renderer.setStyle(this.element.nativeElement,"color","var(--orange)"),this.priority===_.neutral&&this.renderer.setStyle(this.element.nativeElement,"color","var(--main)"),this.priority===_.low&&this.renderer.setStyle(this.element.nativeElement,"color","var(--gray)")}ngOnInit(){this.setColor()}};t.\u0275fac=function(o){return new(o||t)(M(E),M(D))},t.\u0275dir=T({type:t,selectors:[["","appColoredTitle",""]],inputs:{priority:"priority"},standalone:!0});let e=t;return e})();var et=(()=>{let t=class t{constructor(){this.router=m(y),this.task={id:"",title:"",name:"",deadline:"",priority:_.low,status:J.new,executor:""}}onOpen(i){this.router.navigate(["./task",i])}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-task"]],inputs:{task:"task"},standalone:!0,features:[v],decls:12,vars:6,consts:[["matTooltipPosition","above",1,"wrapper_task",3,"matTooltip","click"],["appColoredTitle","",1,"task_nowrap",3,"priority"],[1,"task_nowrap"],[1,"task_deadline"]],template:function(o,n){o&1&&(r(0,"div",0),d("click",function(){return n.onOpen(n.task.id)}),r(1,"h4",1),s(2),a(),r(3,"p",2),s(4),a(),r(5,"p"),s(6),a(),r(7,"div",3)(8,"p"),s(9,"deadline:"),a(),r(10,"p"),s(11),a()()()),o&2&&(N("matTooltip","",n.task.priority," priority"),c(),f("priority",n.task.priority),c(),g(n.task.title),c(2),g(n.task.executor),c(2),g(n.task.status),c(5),g(n.task.deadline))},dependencies:[X,W,tt],styles:[".wrapper_task[_ngcontent-%COMP%]{padding:1vh;display:grid;grid-template-columns:1fr 2fr 1fr 1fr;align-items:center;width:95%;margin:auto;max-width:800px;box-shadow:#0000001a 0 1px 3px,#0000000f 0 1px 2px}.wrapper_task[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:#00000029 0 3px 6px,#0000003b 0 3px 6px}.wrapper_task[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:head}.wrapper_task[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:body;font-weight:200;padding-left:2vw;font-size:.8rem}@media screen and (max-width: 450px){.wrapper_task[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr 2fr}}.task_deadline[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-end}.task_deadline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.task_deadline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.7rem;margin-bottom:3px}@media screen and (max-width: 500px){.task_deadline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}}.task_nowrap[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"],changeDetection:0});let e=t;return e})();function it(e,t){if(e&1&&(r(0,"div"),P(1,"app-task",5),a()),e&2){let C=t.$implicit;c(),f("task",C)}}function rt(e,t){if(e&1&&(j(0),k(1,it,2,1,"div",4),S(2,"sorting"),L()),e&2){let C=O().ngIf,i=O();c(),f("ngForOf",R(2,1,C,i.sortingService.getsortType()))}}function at(e,t){e&1&&(r(0,"p"),s(1,"there are no tasks at the moment"),a())}function st(e,t){if(e&1&&(r(0,"div"),k(1,rt,3,4,"ng-container",2)(2,at,2,0,"ng-template",null,3,A),a()),e&2){let C=t.ngIf,i=B(3);c(),f("ngIf",C.length)("ngIfElse",i)}}var Ht=(()=>{let t=class t{constructor(){this.store=m(G),this.taskManagementService=m(Q),this.sortingService=m(w),this.allTasks$=this.store.select(H)}ngOnInit(){this.taskManagementService.getAllFromServer()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-main"]],standalone:!0,features:[v],decls:4,vars:3,consts:[[1,"main"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["notasks",""],[4,"ngFor","ngForOf"],[3,"task"]],template:function(o,n){o&1&&(P(0,"app-control-panel"),r(1,"div",0),k(2,st,4,2,"div",1),S(3,"async"),a()),o&2&&(c(2),f("ngIf",z(3,1,n.allTasks$)))},dependencies:[q,$,K,V,et,Y,Z],styles:[".main[_ngcontent-%COMP%]{margin:auto;width:95%;max-width:800px}"],changeDetection:0});let e=t;return e})();export{Ht as MainComponent};
