import{j as i,k as a,l as d,p as m}from"./chunk-L5RHBUOY.js";import{I as c,ka as n,va as l}from"./chunk-4KIBKXAV.js";var f=d("tasks"),I=a(f,e=>e.items),p=e=>a(f,r=>r.items.find(u=>u.id===e));var k=function(e){return e.new="new",e.inProgress="in progress",e.completed="completed",e}(k||{}),v=function(e){return e.low="low",e.neutral="neutral",e.high="high",e}(v||{}),S=function(e){return e.default="default",e.status="status",e.executor="executor",e.deadline="deadline",e}(S||{});var O=(()=>{let r=class r{constructor(){this.store=l(i)}sendTaskToServer(t){let{id:o}=t,s=JSON.stringify(t);localStorage.setItem(o,s)}sendUpdateToServer(t,o){localStorage.removeItem(t),localStorage.setItem(t,JSON.stringify(o))}deleteTaskFromServer(t){localStorage.removeItem(t)}getAllFromServer(){for(let t=0;t<localStorage.length;t++){let o=localStorage.key(t);if(o?.slice(0,3)==="id-"){let s=JSON.parse(localStorage.getItem(o));this.store.select(p(o)).pipe(c(1)).subscribe({next:g=>{g===void 0&&this.store.dispatch(m({newTask:s}))},error:()=>{}})}}}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();export{I as a,p as b,k as c,v as d,S as e,O as f};
