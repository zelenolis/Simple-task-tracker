import{a as B,b as u,c as G,d as V,e as z,f as c,g as R,h as $,i as H,j as K,k as J,l as L,m as Q}from"./chunk-6UAEEI6E.js";import{c as S,d as b,f as j}from"./chunk-VS6VRPCV.js";import{j as P,p as D}from"./chunk-L5RHBUOY.js";import{p as A}from"./chunk-T57MLRIA.js";import{e as M,f as q,n as N}from"./chunk-UQTN7MN5.js";import{Cb as l,Db as x,Gb as O,Ia as o,ca as F,cb as p,eb as a,kb as r,lb as n,mb as g,nb as s,ob as d,rb as E,va as _,wb as I}from"./chunk-4KIBKXAV.js";function U(e,t){e&1&&(r(0,"span",22),l(1,"required"),n())}function W(e,t){if(e&1&&(s(0),p(1,U,2,0,"span",21),d()),e&2){let m=t.ngIf;o(),a("ngIf",m.hasError("required"))}}function X(e,t){e&1&&(r(0,"span",22),l(1,"required"),n())}function Y(e,t){if(e&1&&(s(0),p(1,X,2,0,"span",21),d()),e&2){let m=t.ngIf;o(),a("ngIf",m.hasError("required"))}}function Z(e,t){e&1&&(r(0,"span",22),l(1,"required"),n())}function ee(e,t){if(e&1&&(s(0),p(1,Z,2,0,"span",21),d()),e&2){let m=t.ngIf;o(),a("ngIf",m.hasError("required"))}}function te(e,t){if(e&1&&(r(0,"option",23),l(1),n()),e&2){let m=t.$implicit;a("value",m),o(),x(m)}}function ne(e,t){e&1&&(r(0,"span",22),l(1,"required"),n())}function ie(e,t){if(e&1&&(s(0),p(1,ne,2,0,"span",21),d()),e&2){let m=t.ngIf;o(),a("ngIf",m.hasError("required"))}}function re(e,t){if(e&1&&(r(0,"option",23),l(1),n()),e&2){let m=t.$implicit;a("value",m),o(),x(m)}}function oe(e,t){e&1&&(r(0,"span",22),l(1,"required"),n())}function ae(e,t){if(e&1&&(s(0),p(1,oe,2,0,"span",21),d()),e&2){let m=t.ngIf;o(),a("ngIf",m.hasError("required"))}}function le(e,t){e&1&&(r(0,"span",22),l(1,"required"),n())}function me(e,t){if(e&1&&(s(0),p(1,le,2,0,"span",21),d()),e&2){let m=t.ngIf;o(),a("ngIf",m.hasError("required"))}}function pe(e){return`id-${[...Array(e)].map(()=>Math.floor(Math.random()*16).toString(16)).join("")}`}var Te=(()=>{let t=class t{constructor(){this.store=_(P),this.router=_(N),this.taskManagementService=_(j),this.matSnackBar=_(A),this.size=8,this.today=new Date().toISOString().split("T")[0],this.priorityOptions=[b.low,b.neutral,b.high],this.statusOptions=[S.new,S.inProgress,S.completed],this.newTask=new z({title:new c("",[u.required]),name:new c("",[u.required]),deadline:new c("",[u.required]),priority:new c("",[u.required]),status:new c("",[u.required]),executor:new c("",[u.required])})}onBack(){this.router.navigate([""])}onSubmit(){if(this.newTask.invalid)return;let v={id:pe(this.size),title:this.newTask.value.title,name:this.newTask.value.name,deadline:this.newTask.value.deadline,priority:this.newTask.value.priority,status:this.newTask.value.status,executor:this.newTask.value.executor};this.store.dispatch(D({newTask:v})),this.taskManagementService.sendTaskToServer(v),this.matSnackBar.open("task created","OK",{duration:2e3}),this.router.navigate([""])}};t.\u0275fac=function(y){return new(y||t)},t.\u0275cmp=F({type:t,selectors:[["app-form"]],standalone:!0,features:[O],decls:42,vars:11,consts:[[1,"wrapper"],[1,"wrapper_form"],["name","loginForm",1,"form",3,"formGroup","ngSubmit"],[1,"form_filed"],["for","title"],["id","title","type","title","formControlName","title","placeholder","Tasks title"],[4,"ngIf"],["for","name"],["id","name","type","name","formControlName","name","placeholder","Name of the task"],["for","deadline"],["id","deadline","type","date","formControlName","deadline",3,"min"],["for","priority"],["id","priority","type","priority","formControlName","priority"],[3,"value",4,"ngFor","ngForOf"],["for","status"],["id","status","type","status","formControlName","status"],["for","executor"],["id","executor","type","executor","formControlName","executor"],[1,"form_buttons"],[1,"form_button",3,"click"],["type","submit",1,"form_button",3,"disabled"],["class","form_error",4,"ngIf"],[1,"form_error"],[3,"value"]],template:function(y,i){if(y&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Add new task"),n(),r(4,"form",2),E("ngSubmit",function(){return i.onSubmit()}),r(5,"div",3)(6,"label",4),l(7,"Title"),n(),g(8,"input",5),p(9,W,2,1,"ng-container",6),n(),r(10,"div",3)(11,"label",7),l(12,"Name"),n(),g(13,"input",8),p(14,Y,2,1,"ng-container",6),n(),r(15,"div",3)(16,"label",9),l(17,"Deadline"),n(),g(18,"input",10),p(19,ee,2,1,"ng-container",6),n(),r(20,"div",3)(21,"label",11),l(22,"Priority"),n(),r(23,"select",12),p(24,te,2,2,"option",13),n(),p(25,ie,2,1,"ng-container",6),n(),r(26,"div",3)(27,"label",14),l(28,"Status"),n(),r(29,"select",15),p(30,re,2,2,"option",13),n(),p(31,ae,2,1,"ng-container",6),n(),r(32,"div",3)(33,"label",16),l(34,"Executor"),n(),g(35,"input",17),p(36,me,2,1,"ng-container",6),n(),r(37,"div",18)(38,"button",19),E("click",function(){return i.onBack()}),l(39,"close"),n(),r(40,"button",20),l(41,"submit"),n()()()()()),y&2){let f,h,w,k,C,T;o(4),a("formGroup",i.newTask),o(5),a("ngIf",(((f=i.newTask.get("title"))==null?null:f.dirty)||((f=i.newTask.get("title"))==null?null:f.touched))&&i.newTask.get("title")),o(5),a("ngIf",(((h=i.newTask.get("name"))==null?null:h.dirty)||((h=i.newTask.get("name"))==null?null:h.touched))&&i.newTask.get("name")),o(4),I("min",i.today),o(),a("ngIf",(((w=i.newTask.get("deadline"))==null?null:w.dirty)||((w=i.newTask.get("deadline"))==null?null:w.touched))&&i.newTask.get("deadline")),o(5),a("ngForOf",i.priorityOptions),o(),a("ngIf",(((k=i.newTask.get("priority"))==null?null:k.dirty)||((k=i.newTask.get("priority"))==null?null:k.touched))&&i.newTask.get("priority")),o(5),a("ngForOf",i.statusOptions),o(),a("ngIf",(((C=i.newTask.get("status"))==null?null:C.dirty)||((C=i.newTask.get("status"))==null?null:C.touched))&&i.newTask.get("status")),o(5),a("ngIf",(((T=i.newTask.get("executor"))==null?null:T.dirty)||((T=i.newTask.get("executor"))==null?null:T.touched))&&i.newTask.get("executor")),o(4),a("disabled",i.newTask.invalid)}},dependencies:[Q,R,J,L,B,K,G,V,$,H,q,M],styles:[".wrapper[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:row;justify-content:center;align-items:flex-start;margin-top:5vh;width:90%;max-width:350px;position:relative}.wrapper_form[_ngcontent-%COMP%]{margin:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;padding-bottom:2vh;background:var(--background2);padding:0 10% 5%}.wrapper_form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:head}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;row-gap:3vh}.form_filed[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;position:relative}.form_filed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;background:var(--background)}.form_buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:70%}.form_button[_ngcontent-%COMP%]{min-width:50px;min-height:20px;width:5vw;border:none;padding:.5vh .5vw;background:var(--main);color:var(--black);border-radius:5px;margin:5px}.form_button[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--orange)}.form_button[_ngcontent-%COMP%]:disabled{background:var(--background2);color:var(--gray)}.form_error[_ngcontent-%COMP%]{position:absolute;bottom:-1rem;padding-left:3px;font-size:.8rem;color:var(--error)}"],changeDetection:0});let e=t;return e})();export{Te as FormComponent};
